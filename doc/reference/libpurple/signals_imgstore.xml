<?xml version='1.0' encoding="ISO-8859-1"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" 
               "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" [
]>
<chapter id="chapter-signals-imgstore">
  <title>Stored Image signals</title>

  <programlisting>
 @signals
  @signal image-deleting
 @endsignals

 @see imgstore.h

 @signaldef image-deleting
  @signalproto
char *(*image_deleting)(const PurpleStoredImage *img);
  @endsignalproto
  @signaldesc
   Emitted when a #PurpleStoredImage is about to be destroyed.  This allows
   for what amounts to weak references.  Code can hold onto a pointer to
   the PurpleStoredImage without actually "holding" a reference.  They can
   then use a signal handler to let them know when their img is about to
   be destroyed.
  @param img The image about to be destroyed.
  @note It's not possible to purple_imgstore_ref() img to save it.
 @endsignaldef

  </programlisting>
</chapter>
