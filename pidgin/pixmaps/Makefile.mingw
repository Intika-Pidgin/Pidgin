#
# Makefile.mingw
#
# Description: Makefile for win32 (mingw) version of Pidgin pixmaps
#

PIDGIN_TREE_TOP := ../..
include $(PIDGIN_TREE_TOP)/libpurple/win32/global.mak

datadir := $(PIDGIN_INSTALL_DIR)
include ./Makefile.am

.PHONY: install clean

install:
	if test '$(SUBDIRS)'; then \
	  list='$(SUBDIRS)'; for subdir in $$list; do \
	  if [ "$$subdir" != "icons/22" ]; then \
	    $(MAKE) -C $$subdir -f $(MINGW_MAKEFILE) install || exit 1 ;\
	  fi \
	  done; \
	fi;
	if test '$(nobase_dist_pidginpixmap_DATA)'; then \
	  list='$(nobase_dist_pidginpixmap_DATA)'; for file in $$list; do \
	    dir=`dirname $$file`; \
	    mkdir -p $(pidginpixmapdir)/$$dir; \
	    cp $$file $(pidginpixmapdir)/$$dir/; \
	  done; \
	fi;
	if test '$(pidginbuttonpix_DATA)'; then \
	  mkdir -p $(pidginbuttonpixdir); \
	  cp $(pidginbuttonpix_DATA) $(pidginbuttonpixdir); \
	fi;
	if test '$(pidgindistpix_DATA)'; then \
	  mkdir -p $(pidgindistpixdir); \
	  cp $(pidgindistpix_DATA) $(pidgindistpixdir); \
	fi;

clean:
	$(MAKE) -C emotes -f $(MINGW_MAKEFILE) clean || exit 1 ;\
